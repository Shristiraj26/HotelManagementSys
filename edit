<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Admin Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="home.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="hotel-logo.png" alt="Hotel Logo" width="30" height="30" class="d-inline-block align-top">
                Hotel
            </a>
            <div class="d-flex">
                <button class="btn btn-outline-light me-2" data-bs-toggle="modal" data-bs-target="#manageRoomModal">Manage Rooms</button>
                <!-- <button class="btn btn-outline-light me-2" data-bs-toggle="modal" data-bs-target="#customerCheckInModal">Customer Check-in</button> -->
                <!-- <button class="btn btn-outline-light me-2" data-bs-toggle="modal" data-bs-target="#customerCheckoutModal">Customer Checkout</button> -->
                <button class="btn btn-outline-danger" id="logoutButton">Log Out</button>
                
                    <!-- <button class="btn btn-danger nav-link text-white" id="logoutButton">Logout</button> -->
                
            </div>
        </div>
    </nav>

    <!-- Modal -->
    <div class="modal fade" id="manageRoomModal" tabindex="-1" aria-labelledby="manageRoomModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="manageRoomModalLabel">Manage Room</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <table class="table table-light table-bordered">
                        <thead class="table-primary">
                            <tr>
                                <th>Room Number</th>
                                <th>Room Type</th>
                                <th>Bed</th>
                                <th>Price</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="roomTableBody">
                            <tr>
                                <td>101</td>
                                <td>AC</td>
                                <td>Single</td>
                                <td>250</td>
                                <td>Booked</td>
                            </tr>
                        </tbody>
                    </table>
                    <form id="addRoomForm" class="mt-3">
                        
                        <div class="row mb-3">
                            <div class="col-md-3">
                                <label for="hotelName" class="form-label">Hotel Name</label>
                                <select class="form-select" id="hotelName">
                                    <option value="Hotel A">Hotel A</option>
                                    <option value="Hotel B">Hotel B</option>
                                    <option value="Hotel C">Hotel C</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="roomNumber" class="form-label">Room Number</label>
                                <input type="text" class="form-control" id="roomNumber" placeholder="Enter room number">
                            </div>
                            <div class="col-md-3">
                                <label for="roomType" class="form-label">Room Type</label>
                                <select class="form-select" id="roomType">
                                    <option value="AC">AC</option>
                                    <option value="Non AC">Non AC</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="bedType" class="form-label">Bed</label>
                                <select class="form-select" id="bedType">
                                    <option value="Single">Single</option>
                                    <option value="Double">Double</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="price" class="form-label">Price</label>
                                <input type="text" class="form-control" id="price" placeholder="Enter price">
                            </div>
                            <div class="col-md-3">
                                <label for="roomStatus" class="form-label">Status</label>
                                <select class="form-select" id="roomStatus">
                                    <option value="Not Booked">Not Booked</option>
                                    <option value="Booked">Booked</option>
                                </select>
                            </div>
                        </div>
                        <button type="button" id="addRoomButton" class="btn btn-add-room">Add Room</button>
                    </form>                    
                    <p class="mt-3">Double-click on rows for update & delete</p>
                </div>
            </div>
        </div>
    </div>


<div class="container mt-4">
    <h2 class="mb-4">Hotel Booking Requests</h2>
    <table class="table table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th>Booking ID</th>
                <th>Guest Name</th>
                <th>Room Type</th>
                <th>Check-in</th>
                <th>Check-out</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="bookingRequests">
            <tr>
                <td>101</td>
                <td>John Doe</td>
                <td>Deluxe</td>
                <td>2025-02-10</td>
                <td>2025-02-15</td>
                <td><span class="badge bg-warning">Pending</span></td>
                <td>
                    <button class="btn btn-success btn-sm" onclick="updateStatus(this, 'Accepted')">Accept</button>
                    <button class="btn btn-danger btn-sm" onclick="updateStatus(this, 'Rejected')">Reject</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>




    <!-- Logout Confirmation Modal -->
<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content custom-modal-content"> <!-- Added custom class -->
            <div class="modal-header bg-light">
                <h5 class="modal-title text-dark" id="logoutModalLabel">Confirm Logout</h5>
                <button type="button" class="btn-close btn-light" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="text-center bg-light text-dark">
                Are you sure you want to log out?
            </div>
            <div class="modal-footer bg-light">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                <button type="button" class="btn btn-danger" id="confirmLogoutButton">Yes</button>
            </div>
        </div>
    </div>
</div>



    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="home.js"></script>
</body>
</html>











Js file...
document.getElementById("addRoomButton").addEventListener("click", function () {
    const roomNumber = document.getElementById("roomNumber").value;
    const roomType = document.getElementById("roomType").value;
    const bedType = document.getElementById("bedType").value;
    const price = document.getElementById("price").value;
    const roomStatus = document.getElementById("roomStatus").value; // New field

    if (roomNumber && roomType && bedType && price && roomStatus) {
        const tableBody = document.getElementById("roomTableBody");
        const newRow = document.createElement("tr");

        newRow.innerHTML = `
            <td>${roomNumber}</td>
            <td>${roomType}</td>
            <td>${bedType}</td>
            <td>${price}</td>
            <td>${roomStatus}</td>
        `;

        // Add double-click event for row update
        newRow.addEventListener("dblclick", function () {
            updateRow(newRow);
        });

        tableBody.appendChild(newRow);

        // Clear input fields
        document.getElementById("addRoomForm").reset();
    } else {
        alert("Please fill in all fields!");
    }
});

// Function to update a row
function updateRow(row) {
    const cells = row.getElementsByTagName("td");
    const roomNumber = cells[0].innerText;
    const roomType = cells[1].innerText;
    const bedType = cells[2].innerText;
    const price = cells[3].innerText;
    const roomStatus = cells[4].innerText;

    document.getElementById("roomNumber").value = roomNumber;
    document.getElementById("roomType").value = roomType;
    document.getElementById("bedType").value = bedType;
    document.getElementById("price").value = price;
    document.getElementById("roomStatus").value = roomStatus;

    row.remove();
}


// Check in
document.addEventListener("DOMContentLoaded", function () {
    const checkinDate = document.getElementById("checkinDate");
    const today = new Date().toISOString().split("T")[0];
    checkinDate.value = today;
});


// Check-out
document.getElementById("searchButton").addEventListener("click", function () {
    // Example data for demonstration
    const roomData = {
        101: {
            name: "Sudhir Kushwaha",
            mobile: "8540092862",
            email: "sudhir@gmail.com",
            pricePerDay: 250,
            checkInDate: "2022-05-08",
        },
    };

    const roomNumber = document.getElementById("roomNumber").value;
    const data = roomData[roomNumber];

    if (data) {
        document.getElementById("customerName").value = data.name;
        document.getElementById("customerMobile").value = data.mobile;
        document.getElementById("pricePerDay").value = data.pricePerDay;
        document.getElementById("checkInDate").value = data.checkInDate;

        // Calculate number of days and total amount
        const today = new Date();
        const checkInDate = new Date(data.checkInDate);
        const days = Math.ceil((today - checkInDate) / (1000 * 60 * 60 * 24));
        document.getElementById("numberOfDays").value = days;
        document.getElementById("totalAmount").value = days * data.pricePerDay;
        document.getElementById("checkOutDate").value = today.toISOString().split("T")[0];
    } else {
        alert("Room data not found!");
    }
});

function updateStatus(button, status) {
    let row = button.closest('tr');
    let statusCell = row.cells[5];
    
    if (status === 'Accepted') {
        statusCell.innerHTML = '<span class="badge bg-success">Accepted</span>';
    } else {
        statusCell.innerHTML = '<span class="badge bg-danger">Rejected</span>';
    }
}


// Open Logout Modal
document.getElementById("logoutButton").addEventListener("click", function () {
    const logoutModal = new bootstrap.Modal(document.getElementById("logoutModal"));
    logoutModal.show();
});

// Handle Logout Confirmation
document.getElementById("confirmLogoutButton").addEventListener("click", function () {
    // Redirect to login page or perform logout logic here
    alert("You have logged out successfully!"); // Placeholder
    window.location.href = "login.html"; // Example redirect
});
